import"./main-B3jpmAP_.js";import{$ as e,I as s,M}from"./moviesElements-B1VtFaAc.js";const l=new M,L="https://image.tmdb.org/t/p/w1280";function d(r){var m,g,u,p,v;const{backdrop_path:c,overview:a,title:i,original_title:t,vote_count:n,popularity:o,vote_average:C}=r;(g=(m=e.movieDialog)==null?void 0:m.querySelector("img"))==null||g.setAttribute("src",`${L+c}`),!(!e.movieTit||!e.movieOriginTit||!e.movieDesc||!e.movieLike||!e.movieAudience||!e.movieGrade)&&(e.movieTit.innerHTML=i,e.movieOriginTit.innerHTML=t,e.movieDesc.innerHTML=a,e.movieLike.innerHTML=n.toString(),e.movieAudience.innerHTML=o.toString(),e.movieGrade.innerHTML=C.toString(),(u=e.movieDialog)==null||u.showModal(),(v=(p=e.movieDialog)==null?void 0:p.querySelector(".close"))==null||v.addEventListener("click",()=>{var _;(_=e.movieDialog)==null||_.close()}))}async function f(){if(!e.movieContainer)return;e.movieContainer.innerHTML="",(await l.getVoteCountMovies({params:{include_adult:!1,include_video:!0,language:"ko-KR",page:1,sort_by:"vote_count.desc"}})).results.slice(0,6).forEach(a=>{var n;const i=document.createElement("li"),t=document.createElement("img");t.src=`${s}`+a.poster_path,t.alt=a.title,t.dataset.id=a.id.toString(),i.appendChild(t),(n=e.movieContainer)==null||n.appendChild(i),i==null||i.addEventListener("click",()=>{d(a)})})}(async()=>{await f();const r=6,c=await l.getNowPlayingMovies({params:{include_adult:!1,include_video:!1,language:"ko-KR",page:1,sort_by:"popularity.desc"}});if(!e.movieContainer2)return;e.movieContainer2.innerHTML="",c.results.slice(0,r).forEach(i=>{var o;const t=document.createElement("li"),n=document.createElement("img");n.src=`${s}`+i.poster_path,n.alt=i.title,n.dataset.id=i.id.toString(),t.appendChild(n),(o=e.movieContainer2)==null||o.appendChild(t),t==null||t.addEventListener("click",()=>{d(i)})});const a=await l.getUpcomingMovies({params:{include_adult:!1,include_video:!1,language:"ko-KR",page:1,sort_by:"primary_release_date.desc","release_date.gte":"2024-10-01","release_date.lte":"2024-10-30"}});console.log("upcomingData",a),e.movieContainer3&&(e.movieContainer3.innerHTML="",a.results.slice(0,r).forEach(i=>{var o;const t=document.createElement("li"),n=document.createElement("img");n.src=`${s}`+i.poster_path,n.alt=i.title,n.dataset.id=i.id.toString(),t.appendChild(n),(o=e.movieContainer3)==null||o.appendChild(t),t==null||t.addEventListener("click",()=>{d(i)})}))})();
